<!doctype html>
<html lang="el">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Î§ÏÎ¿Î½Î¿Î£Ï…Î½Î±Î¯ÏƒÎ¸Î·Î¼Î± 24 â€“ Î Î±Î¹Ï‡Î½Î¯Î´Î¹</title>

  <style>
    :root{
      --bg1:#bfe7ff; --bg2:#ffe8f6; --bg3:#fff7d6;
      --card: rgba(255,255,255,.74);
      --card2: rgba(255,255,255,.62);
      --text:#1c2541; --muted:#475569;
      --border: rgba(30,41,59,.18);
      --shadow: 0 16px 44px rgba(2,6,23,.20);
      --radius:24px;

      --accent:#5a78ff;
      --good:#22c55e; --warn:#f59e0b; --bad:#ef4444;

      --baseFont: clamp(15px, 1.1vw, 18px);
      --h1: clamp(18px, 1.6vw, 24px);
      --wheel: clamp(280px, 42vw, 460px);
      --center: clamp(150px, 22vw, 220px);
      --innerRingInset: clamp(54px, 8vw, 78px);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      font-size: var(--baseFont);
      color:var(--text);
      background:
        radial-gradient(900px 520px at 18% 15%, rgba(255,255,255,.85), transparent 60%),
        radial-gradient(780px 480px at 70% 18%, rgba(255,255,255,.75), transparent 60%),
        radial-gradient(900px 560px at 45% 95%, rgba(255,255,255,.70), transparent 62%),

        radial-gradient(10px 10px at 12% 22%, rgba(255,90,90,.35), transparent 60%),
        radial-gradient(12px 12px at 18% 40%, rgba(90,120,255,.35), transparent 60%),
        radial-gradient(10px 10px at 30% 18%, rgba(34,197,94,.30), transparent 60%),
        radial-gradient(12px 12px at 74% 24%, rgba(245,158,11,.35), transparent 60%),
        radial-gradient(10px 10px at 82% 44%, rgba(124,58,237,.30), transparent 60%),
        radial-gradient(12px 12px at 64% 70%, rgba(255,79,216,.30), transparent 60%),
        linear-gradient(160deg, var(--bg1), var(--bg2) 45%, var(--bg3));
      min-height:100vh;
    }
    .wrap{max-width:1200px;margin:0 auto;padding:18px}
    header{
      display:flex;gap:14px;align-items:center;justify-content:space-between;flex-wrap:wrap;
      margin-bottom:14px;
    }
    .brand{display:flex;align-items:center;gap:12px}
    .logo{
      width:52px;height:52px;border-radius:18px;
      background: conic-gradient(from 180deg,#EF4444,#1F3B88,#FFD400,#22C55E,#111827,#FFFFFF,#7C3AED,#A16207);
      box-shadow: var(--shadow);
      border: 2px solid rgba(255,255,255,.8);
    }
    h1{font-size:var(--h1);margin:0;font-weight:1100}
    .sub{color:var(--muted);font-size:13px;margin-top:4px;line-height:1.35;max-width:820px}

    .card{
      background: linear-gradient(180deg, var(--card), var(--card2));
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      backdrop-filter: blur(8px);
    }
    .hd{
      padding:16px 16px 12px;
      border-bottom:1px solid var(--border);
      background: rgba(255,255,255,.55);
      display:flex;align-items:center;justify-content:space-between;gap:12px;
    }
    .bd{padding:16px}
    .small{font-size:13px;color:var(--muted);line-height:1.35}
    .hint{
      background: rgba(255,255,255,.60);
      border:1px dashed rgba(30,41,59,.20);
      padding:12px 14px;border-radius:18px;
      font-size:13px;color:var(--muted);
      line-height:1.45;
      margin-bottom:12px;
    }

    /* pages */
    .page{display:none}
    .page.active{display:block}

    /* nav buttons */
    .nav{
      display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;align-items:center;margin-top:12px;
    }
    button{
      border:1px solid var(--border);
      background: rgba(255,255,255,.75);
      color: var(--text);
      padding:12px 14px;
      border-radius:16px;
      cursor:pointer;
      font-size:15px;
      font-weight:950;
      transition:.15s transform,.15s background;
      user-select:none;
      box-shadow: 0 10px 22px rgba(2,6,23,.10);
    }
    button:hover{transform:translateY(-1px); background: rgba(255,255,255,.95);}
    button.primary{background: rgba(90,120,255,.18); border-color: rgba(90,120,255,.30);}

    /* zones page */
    .zones{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    @media (max-width:980px){.zones{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:620px){.zones{grid-template-columns:1fr}}
    .zone{
      border:1px solid var(--border);
      border-radius:20px;
      padding:14px;
      background: rgba(255,255,255,.60);
      cursor:pointer;
      transition:.15s transform,.15s background;
      min-height:110px;
    }
    .zone:hover{transform:translateY(-2px); background: rgba(255,255,255,.85);}
    .zone.active{outline:3px solid rgba(90,120,255,.45);}
    .zone-title{font-weight:1100;font-size:16px}
    .zone-time{font-size:13px;color:var(--muted);margin-top:4px;font-family:ui-monospace, Menlo, monospace;}

    /* pie page layout */
    .grid{display:grid;grid-template-columns:1.15fr .85fr;gap:14px;align-items:start}
    @media (max-width:980px){.grid{grid-template-columns:1fr}}
    .panel{
      border:1px solid var(--border);
      border-radius:24px;
      background: rgba(255,255,255,.60);
      padding:16px;
      overflow:hidden;
    }
    .wheelRow{display:grid;grid-template-columns:var(--wheel) 1fr;gap:16px;align-items:start}
    @media (max-width:980px){.wheelRow{grid-template-columns:1fr}}

    .wheel{
      width:var(--wheel);height:var(--wheel);max-width:100%;
      border-radius:50%;
      border:3px solid rgba(255,255,255,.85);
      box-shadow: var(--shadow);
      position:relative;
      margin:0 auto;
      overflow:hidden;
      background:
        conic-gradient(#EF4444 0 45deg,#1F3B88 45 90deg,#FFD400 90 135deg,#22C55E 135 180deg,
                       #111827 180 225deg,#FFFFFF 225 270deg,#7C3AED 270 315deg,#A16207 315 360deg);
    }
    .pointer{
      position:absolute;top:-12px;left:50%;transform:translateX(-50%);
      width:0;height:0;border-left:16px solid transparent;border-right:16px solid transparent;
      border-bottom:24px solid rgba(255,255,255,.95);
      filter:drop-shadow(0 6px 10px rgba(2,6,23,.22));
      z-index:5;
    }
    .innerRing{
      position:absolute; inset: var(--innerRingInset);
      border-radius:50%;
      border:2px solid rgba(255,255,255,.55);
      background: conic-gradient(var(--q1, rgba(255,255,255,.25)) 0 120deg,
                                 var(--q2, rgba(255,255,255,.25)) 120 240deg,
                                 var(--q3, rgba(255,255,255,.25)) 240 360deg);
      z-index:2;
    }
    .innerRing::after{
      content:""; position:absolute; inset:14px; border-radius:50%;
      background: rgba(255,255,255,.35); border:1px solid rgba(30,41,59,.12);
    }
    .wheelCenter{
      position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);
      width:var(--center);height:var(--center);border-radius:50%;
      background: rgba(255,255,255,.86);
      border:2px solid rgba(30,41,59,.14);
      display:flex;flex-direction:column;align-items:center;justify-content:center;
      text-align:center;padding:14px; z-index:4;
    }
    .centerMain{font-size:18px;font-weight:1200;line-height:1.15}
    .centerSub{
      margin-top:10px;font-size:13px;color:var(--muted);font-weight:1000;line-height:1.25;
      white-space:pre-line;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical;
      overflow:hidden;max-width:100%;
    }

    .shadeBox{margin-top:12px;display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
    .shadeBtn{
      border:2px solid rgba(30,41,59,.14);
      border-radius:20px;
      background: rgba(255,255,255,.70);
      padding:14px;
      cursor:pointer;
      transition:.15s transform,.15s background,.15s outline;
      display:flex;align-items:center;gap:12px;
      min-height:74px; overflow:hidden;
    }
    .shadeBtn:hover{transform:translateY(-2px); background: rgba(255,255,255,.92);}
    .shadeBtn.active{outline:3px solid rgba(90,120,255,.45);}
    .shadeSwatch{width:54px;height:54px;border-radius:18px;border:2px solid rgba(0,0,0,.10);flex:0 0 auto;}
    .shadeTop{font-size:16px;font-weight:1200;line-height:1.1}
    .shadeHint{
      font-size:13px;color:var(--muted);font-weight:1000;line-height:1.2;
      display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;
    }

    label{display:block;font-size:13px;color:var(--muted);margin:12px 0 7px;font-weight:1100}
    select{
      width:100%;padding:14px;border-radius:18px;border:1px solid rgba(30,41,59,.18);
      background: rgba(255,255,255,.75);font-size:16px;font-weight:900;outline:none;
    }
  </style>
</head>

<body>
<div class="wrap">
  <header>
    <div class="brand">
      <div class="logo"></div>
      <div>
        <h1>Î§ÏÎ¿Î½Î¿Î£Ï…Î½Î±Î¯ÏƒÎ¸Î·Î¼Î± 24 â€“ Î Î±Î¹Ï‡Î½Î¯Î´Î¹</h1>
        <div class="sub">Î£ÎµÎ»Î¯Î´Î± 1: Î–ÏÎ½Î·. Î£ÎµÎ»Î¯Î´Î± 2: Î Î¯Ï„Î± + â€œÏ€ÏŒÏƒÎ¿â€ + 3 ÎµÏÏ‰Ï„Î®ÏƒÎµÎ¹Ï‚. (Î§Ï‰ÏÎ¯Ï‚ ÎµÏ€Î¹ÎºÎ±Î»ÏÏˆÎµÎ¹Ï‚)</div>
      </div>
    </div>
  </header>

  <!-- Page 1 -->
  <section class="card page active" id="pageZones">
    <div class="hd">
      <div>
        <div style="font-weight:1200">Î£ÎµÎ»Î¯Î´Î± 1/2 â€” Î–ÏÎ½ÎµÏ‚</div>
        <div class="small">Î”Î¹Î¬Î»ÎµÎ¾Îµ Î¼Î¯Î± Î¶ÏÎ½Î· ÎºÎ±Î¹ Ï€Î¬Ï„Î± Â«Î•Ï€ÏŒÎ¼ÎµÎ½Î¿Â».</div>
      </div>
      <div class="small" id="zoneLabelSmall">â€”</div>
    </div>
    <div class="bd">
      <div class="hint">ğŸ‘§ğŸ§’ Î Î¬Ï„Î± Ï„Î· Î¶ÏÎ½Î· Ï„Î·Ï‚ Î·Î¼Î­ÏÎ±Ï‚ Ï€Î¿Ï… Î¸Ï…Î¼Î¬ÏƒÎ±Î¹.</div>
      <div class="zones" id="zones"></div>
      <div class="nav">
        <div></div>
        <button class="primary" id="btnNext">â¡ï¸ Î•Ï€ÏŒÎ¼ÎµÎ½Î¿ (Î Î¯Ï„Î±)</button>
      </div>
    </div>
  </section>

  <div style="height:14px"></div>

  <!-- Page 2 -->
  <section class="card page" id="pagePie">
    <div class="hd">
      <div>
        <div style="font-weight:1200">Î£ÎµÎ»Î¯Î´Î± 2/2 â€” Î Î¯Ï„Î± & Î•ÏÏ‰Ï„Î®ÏƒÎµÎ¹Ï‚</div>
        <div class="small">Î Î¬Ï„Î± Ï‡ÏÏÎ¼Î± â†’ Î´Î¹Î¬Î»ÎµÎ¾Îµ â€œÏ€ÏŒÏƒÎ¿â€ â†’ Î±Ï€Î¬Î½Ï„Î·ÏƒÎµ 3 ÎµÏÏ‰Ï„Î®ÏƒÎµÎ¹Ï‚.</div>
      </div>
      <div class="small">Î–ÏÎ½Î·: <b id="zoneLabel">â€”</b></div>
    </div>

    <div class="bd grid">
      <div class="panel">
        <div class="wheelRow">
          <div class="wheel" id="wheel">
            <div class="pointer"></div>
            <div class="innerRing" id="innerRing"></div>
            <div class="wheelCenter">
              <div class="centerMain" id="centerMain">â€”</div>
              <div class="centerSub" id="centerSub">Î Î¬Ï„Î± Î­Î½Î± Ï‡ÏÏÎ¼Î±</div>
            </div>
          </div>

          <div>
            <div class="hint">ğŸ® Î Î¬Ï„Î± ÏƒÏ„Î·Î½ Ï€Î¯Ï„Î± Î³Î¹Î± Ï‡ÏÏÎ¼Î±. ÎœÎµÏ„Î¬ Î´Î¹Î¬Î»ÎµÎ¾Îµ â€œÏ€ÏŒÏƒÎ¿â€.</div>
            <div class="shadeBox" id="shadeBox"></div>
            <div class="nav">
              <button id="btnBack">â¬…ï¸ Î Î¯ÏƒÏ‰</button>
              <button class="primary" id="btnDone">âœ… Î¤Î­Î»Î¿Ï‚</button>
            </div>
            <div class="small" id="doneMsg"></div>
          </div>
        </div>
      </div>

      <div class="panel">
        <div style="font-weight:1200;margin-bottom:6px">ÎŸÎ¹ 3 ÎµÏÏ‰Ï„Î®ÏƒÎµÎ¹Ï‚</div>
        <label for="frequency">1) Î‘Ï…Ï„ÏŒ ÏƒÏ…Î¼Î²Î±Î¯Î½ÎµÎ¹â€¦</label>
        <select id="frequency"></select>

        <label for="whenStarted">2) Î ÏŒÏ„Îµ Î­Î½Î¹Ï‰ÏƒÎµÏ‚ Î­Ï„ÏƒÎ¹ Î³Î¹Î± Ï€ÏÏÏ„Î· Ï†Î¿ÏÎ¬;</label>
        <select id="whenStarted"></select>

        <label for="trigger">3) Î¤Î¹ Ï„Î¿ Ï€ÏÎ¿ÎºÎ¬Î»ÎµÏƒÎµ; (Î´Î¹Î¬Î»ÎµÎ¾Îµ Î­Î½Î±)</label>
        <select id="trigger"></select>
      </div>
    </div>
  </section>
</div>

<script>
  const ZONES = [
    { key:"morning", label:"ğŸŒ Î ÏÏ‰Î¯", time:"06:00 â€“ 12:00" },
    { key:"noon", label:"ğŸ½ï¸ ÎœÎµÏƒÎ·Î¼Î­ÏÎ¹", time:"12:00 â€“ 16:00" },
    { key:"afternoon", label:"ğŸ® Î‘Ï€ÏŒÎ³ÎµÏ…Î¼Î±", time:"16:00 â€“ 20:00" },
    { key:"night", label:"ğŸŒ™ Î’ÏÎ¬Î´Ï…", time:"20:00 â€“ 24:00" },
  ];

  const COLORS = [
    { key:"red", base:"#EF4444", name:"ÎšÏŒÎºÎºÎ¹Î½Î¿", emotions:"Î˜Ï…Î¼ÏŒÏ‚ / ÎˆÎ½Ï„Î±ÏƒÎ·", shade:["#FCA5A5","#EF4444","#DC2626","#991B1B"] },
    { key:"blue", base:"#1F3B88", name:"ÎœÏ€Î»Îµ", emotions:"Î›ÏÏ€Î· / ÎœÎ¿Î½Î±Î¾Î¹Î¬", shade:["#93C5FD","#3B82F6","#1D4ED8","#1E3A8A"] },
    { key:"yellow", base:"#FFD400", name:"ÎšÎ¯Ï„ÏÎ¹Î½Î¿", emotions:"Î§Î±ÏÎ¬ / Î•Î»Ï€Î¯Î´Î±", shade:["#FEF08A","#FFD400","#F59E0B","#B45309"] },
    { key:"green", base:"#22C55E", name:"Î ÏÎ¬ÏƒÎ¹Î½Î¿", emotions:"Î—ÏÎµÎ¼Î¯Î± / Î‘ÏƒÏ†Î¬Î»ÎµÎ¹Î±", shade:["#BBF7D0","#22C55E","#16A34A","#14532D"] },
    { key:"black", base:"#111827", name:"ÎœÎ±ÏÏÎ¿", emotions:"Î¦ÏŒÎ²Î¿Ï‚", shade:["#9CA3AF","#4B5563","#1F2937","#111827"] },
    { key:"white", base:"#FFFFFF", name:"Î†ÏƒÏ€ÏÎ¿", emotions:"ÎšÎµÎ½ÏŒ", shade:["#FFFFFF","#F3F4F6","#E5E7EB","#D1D5DB"] },
    { key:"purple", base:"#7C3AED", name:"ÎœÏ‰Î²", emotions:"Î£ÏÎ³Ï‡Ï…ÏƒÎ·", shade:["#DDD6FE","#A78BFA","#7C3AED","#4C1D95"] },
    { key:"brown", base:"#A16207", name:"ÎšÎ±Ï†Î­", emotions:"Î‘Î½Î±ÏƒÏ†Î¬Î»ÎµÎ¹Î±", shade:["#FED7AA","#F59E0B","#A16207","#78350F"] },
  ];

  const INTENSITY = ["ğŸ™‚ Î›Î¯Î³Î¿","ğŸ˜€ Î‘ÏÎºÎµÏ„Î¬","ğŸ˜Ÿ Î Î¿Î»Ï","ğŸ˜± Î Î¬ÏÎ± Ï€Î¿Î»Ï"];
  const FREQUENCY = ["ÎšÎ¬Î¸Îµ Î¼Î­ÏÎ±",">1 Î¼Î­ÏÎ±/ÎµÎ²Î´Î¿Î¼Î¬Î´Î±",">1 Î¼Î­ÏÎ±/Î¼Î®Î½Î±",">1 Ï†Î¿ÏÎ¬/Ï‡ÏÏŒÎ½Î¿","ÎœÏŒÎ½Î¿ Î¼Î¯Î± Ï†Î¿ÏÎ¬"];
  const WHEN_STARTED = ["Î ÏÎ¹Î½ Î»Î¯Î³ÎµÏ‚ Î¼Î­ÏÎµÏ‚","Î ÏÎ¹Î½ Î­Î½Î±Î½ Î¼Î®Î½Î±","Î ÏÎ¹Î½ ÎºÎ¬Ï€Î¿Î¹Î¿Ï…Ï‚ Î¼Î®Î½ÎµÏ‚","Î ÏÎ¹Î½ Î­Î½Î± Ï‡ÏÏŒÎ½Î¿","Î Î±Î»Î±Î¹ÏŒÏ„ÎµÏÎ± Î±Ï€ÏŒ Î­Î½Î± Ï‡ÏÏŒÎ½Î¿"];
  const TRIGGERS = ["ÎŸÎ¹ Î¼ÎµÎ³Î¬Î»Î¿Î¹ Î¼Î±Î»ÏÎ½Î¿Ï…Î½ Î­Î½Ï„Î¿Î½Î± Î¼Ï€ÏÎ¿ÏƒÏ„Î¬ Î¼Î¿Ï….","Î¥Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÏƒÏ…Ï‡Î½Î¬ Ï†Ï‰Î½Î­Ï‚ ÏƒÏ„Î¿ ÏƒÏ€Î¯Ï„Î¹.","ÎšÎ±Î½ÎµÎ¯Ï‚ Î´ÎµÎ½ Î¼Îµ Î²Î¿Î·Î¸Î¬.","Î¥Ï€Î¬ÏÏ‡ÎµÎ¹ Î®ÏÎµÎ¼Î· ÏƒÏ…Î¶Î®Ï„Î·ÏƒÎ· ÏƒÏ„Î¿ ÏƒÏ€Î¯Ï„Î¹.","Î Î±Î¯Î¶Î¿Ï…Î¼Îµ/Î³ÎµÎ»Î¬Î¼Îµ Î¼Î±Î¶Î¯."];

  const $ = (id)=>document.getElementById(id);

  let state = {
    selectedZoneKey: "morning",
    selectedColorKey: null,
    shadeIndex: null,
    intensity: null,
    q1:"", q2:"", q3:""
  };

  function showPage(which){
    $("pageZones").classList.toggle("active", which==="zones");
    $("pagePie").classList.toggle("active", which==="pie");
    window.scrollTo({top:0, behavior:"smooth"});
  }

  function renderZones(){
    const wrap = $("zones");
    wrap.innerHTML = "";
    ZONES.forEach(z=>{
      const d = document.createElement("div");
      d.className = "zone";
      d.innerHTML = `<div class="zone-title">${z.label}</div><div class="zone-time">${z.time}</div>`;
      d.addEventListener("click", ()=>{
        state.selectedZoneKey = z.key;
        document.querySelectorAll(".zone").forEach(x=>x.classList.remove("active"));
        d.classList.add("active");
        updateZoneLabels();
      });
      if(z.key===state.selectedZoneKey) d.classList.add("active");
      wrap.appendChild(d);
    });
    updateZoneLabels();
  }

  function updateZoneLabels(){
    const z = ZONES.find(x=>x.key===state.selectedZoneKey);
    const txt = `${z.label} (${z.time})`;
    $("zoneLabel").textContent = txt;
    $("zoneLabelSmall").textContent = txt;
  }

  function fillSelect(id, arr){
    const sel = $(id);
    sel.innerHTML = `<option value="">Î”Î¹Î¬Î»ÎµÎ¾Îµâ€¦</option>`;
    arr.forEach(v=>{
      const o=document.createElement("option");
      o.value=v; o.textContent=v;
      sel.appendChild(o);
    });
  }

  function pickColorFromWheelClick(ev){
    const wheel = ev.currentTarget;
    const rect = wheel.getBoundingClientRect();
    const cx = rect.left + rect.width/2;
    const cy = rect.top + rect.height/2;
    const x = ev.clientX - cx;
    const y = ev.clientY - cy;

    let angle = Math.atan2(y, x) * (180/Math.PI);
    angle = (angle + 360 + 90) % 360;

    const idx = Math.floor(angle / 45) % 8;
    const map = ["red","blue","yellow","green","black","white","purple","brown"];
    state.selectedColorKey = map[idx];
    state.shadeIndex = null;
    state.intensity = null;
    renderCenter();
    renderShades();
  }

  function renderCenter(){
    const c = COLORS.find(x=>x.key===state.selectedColorKey);
    if(!c){
      $("centerMain").textContent = "â€”";
      $("centerSub").textContent = "Î Î¬Ï„Î± Î­Î½Î± Ï‡ÏÏÎ¼Î±";
      return;
    }
    $("centerMain").textContent = c.name;
    const how = state.intensity ? `ÎˆÎ½Ï„Î±ÏƒÎ·: ${state.intensity}` : "Î”Î¹Î¬Î»ÎµÎ¾Îµ Â«Ï€ÏŒÏƒÎ¿Â»";
    $("centerSub").textContent = `Î£Ï…Î½Î±Î¯ÏƒÎ¸Î·Î¼Î±: ${c.emotions}\n${how}`;
  }

  function renderShades(){
    const box = $("shadeBox");
    box.innerHTML = "";
    const c = COLORS.find(x=>x.key===state.selectedColorKey);

    if(!c){
      INTENSITY.forEach(t=>{
        const b=document.createElement("div");
        b.className="shadeBtn";
        b.style.opacity="0.55";
        b.innerHTML = `<div class="shadeSwatch" style="background:rgba(255,255,255,.35)"></div>
          <div><div class="shadeTop">${t}</div><div class="shadeHint">Î”Î¹Î¬Î»ÎµÎ¾Îµ Ï€ÏÏÏ„Î± Ï‡ÏÏÎ¼Î±</div></div>`;
        box.appendChild(b);
      });
      return;
    }

    for(let i=0;i<4;i++){
      const b=document.createElement("div");
      b.className="shadeBtn";
      b.innerHTML = `<div class="shadeSwatch" style="background:${c.shade[i]}"></div>
        <div><div class="shadeTop">${INTENSITY[i]}</div><div class="shadeHint">${c.emotions}</div></div>`;
      b.addEventListener("click", ()=>{
        state.shadeIndex=i;
        state.intensity = INTENSITY[i].replace(/^.. /,"");
        document.querySelectorAll(".shadeBtn").forEach(x=>x.classList.remove("active"));
        b.classList.add("active");
        renderCenter();
      });
      box.appendChild(b);
    }
  }

  function init(){
    renderZones();

    fillSelect("frequency", FREQUENCY);
    fillSelect("whenStarted", WHEN_STARTED);
    fillSelect("trigger", TRIGGERS);

    $("btnNext").addEventListener("click", ()=>showPage("pie"));
    $("btnBack").addEventListener("click", ()=>showPage("zones"));
    $("wheel").addEventListener("click", pickColorFromWheelClick);

    $("btnDone").addEventListener("click", ()=>{
      const ok = !!state.selectedColorKey && (state.shadeIndex!==null) &&
                 $("frequency").value && $("whenStarted").value && $("trigger").value;
      $("doneMsg").textContent = ok ? "âœ… Î¤Î­Î»Î¿Ï‚! ÎœÏ€ÏÎ¬Î²Î¿!" : "âš  Î˜Î­Î»ÎµÎ¹: Ï‡ÏÏÎ¼Î± + Ï€ÏŒÏƒÎ¿ + 3 ÎµÏÏ‰Ï„Î®ÏƒÎµÎ¹Ï‚.";
    });

    renderCenter();
    renderShades();
  }

  init();
</script>
</body>
</html>